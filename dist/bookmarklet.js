!function(){"use strict";function t(){const t=window.location.pathname;return t.includes("/telescope/client-requests")?"http":t.includes("/telescope/jobs")?"jobs":"requests"}function e(t){a=t;const e=l.getElementById("tfReqPanel"),o=l.getElementById("tfHttpPanel"),n=l.getElementById("tfJobsPanel"),r=l.getElementById("tfTabReq"),i=l.getElementById("tfTabHttp"),d=l.getElementById("tfTabJobs");"requests"===t?(e.style.display="block",o.style.display="none",n.style.display="none",r.style.color="#3b82f6",r.style.borderBottomColor="#3b82f6",i.style.color="#9ca3af",i.style.borderBottomColor="transparent",d.style.color="#9ca3af",d.style.borderBottomColor="transparent"):"http"===t?(e.style.display="none",o.style.display="block",n.style.display="none",r.style.color="#9ca3af",r.style.borderBottomColor="transparent",i.style.color="#3b82f6",i.style.borderBottomColor="#3b82f6",d.style.color="#9ca3af",d.style.borderBottomColor="transparent"):(e.style.display="none",o.style.display="none",n.style.display="block",r.style.color="#9ca3af",r.style.borderBottomColor="transparent",i.style.color="#9ca3af",i.style.borderBottomColor="transparent",d.style.color="#3b82f6",d.style.borderBottomColor="#3b82f6")}function o(){"requests"===a?l.querySelectorAll("#indexScreen tbody tr:not(.dontanimate)").forEach(t=>{const e=t.querySelector(".badge"),o=t.querySelectorAll("td")[2]?.querySelector(".badge"),n=t.querySelectorAll("td")[3]?.querySelector("span"),l=t.querySelectorAll("td")[1];if(!(e&&l&&o&&n))return;const r=e.textContent.trim(),i=o.textContent.trim(),a=n.textContent.trim(),c=l.getAttribute("title")||l.textContent.trim(),f=parseInt(a.replace("ms","")),x="ALL"===d||!d||r===d,u=!s||i.includes(s),y=!p||f>=parseInt(p),g=!b||c.toLowerCase().includes(b.toLowerCase());t.style.display=x&&u&&y&&g?"":"none"}):"http"===a?l.querySelectorAll("#indexScreen tbody tr:not(.dontanimate)").forEach(t=>{const e=t.querySelector(".badge"),o=t.querySelectorAll("td")[2]?.querySelector(".badge"),n=t.querySelectorAll("td")[3]?.querySelector("span"),l=t.querySelectorAll("td")[1];if(!e||!l||!o)return;const r=e.textContent.trim(),i=o.textContent.trim(),a=l.getAttribute("title")||l.textContent.trim(),d=n?n.textContent.trim():"0ms",s=parseInt(d.replace("ms",""))||0,p="ALL"===c||!c||r===c,b=!f||i.includes(f),y=!x||s>=parseInt(x),g=!u||a.toLowerCase().includes(u.toLowerCase());t.style.display=p&&b&&y&&g?"":"none"}):l.querySelectorAll("#indexScreen tbody tr:not(.dontanimate)").forEach(t=>{const e=t.querySelector("td span[title]"),o=t.querySelectorAll("td")[1]?.querySelector(".badge"),n=t.querySelector("td small.text-muted");if(!e||!n||!o)return;const l=e.getAttribute("title")||e.textContent.trim(),r=o.textContent.trim(),i=n.textContent.trim(),a=!y||l.toLowerCase().includes(y.toLowerCase()),d=!g||r.toLowerCase().includes(g.toLowerCase()),s=!m||i.toLowerCase().includes(m.toLowerCase()),p=!v||i.toLowerCase().includes(v.toLowerCase());t.style.display=a&&d&&s&&p?"":"none"})}function n(){const t=Array.from(document.querySelectorAll('button[title="Auto load entries"]')).find(t=>t.classList.contains("active"));t&&(t.click(),console.log("Disabled auto-load button"));let e=0;!function t(){const o=Array.from(document.querySelectorAll("a")).filter(t=>"Load Older Entries"===t.textContent.trim()),n=o[o.length-1];n?(n.click(),console.log(`Clicked ${e+1}/100`)):console.log(`Button not found, retrying... (${e+1}/100`),e++,100>e?setTimeout(t,300):console.log("Completed 100 steps.")}()}const l=document,r=["ALL","GET","POST","PUT","PATCH","DELETE"];let i=null,a="requests",d="",s="",p="",b="",c="",f="",x="",u="",y="",g="",m="",v="";!function(){const h=l.createElement("div");h.innerHTML=`\n      <div id="tfDialog" style="position:fixed;top:20px;right:20px;background:#1f2937;padding:20px;border-radius:8px;box-shadow:0 4px 20px rgba(0,0,0,0.5);z-index:10000;width:280px;font-family:sans-serif;border:1px solid #374151">\n        \x3c!-- Tab Navigation --\x3e\n        <div style="display:flex;gap:8px;margin-bottom:15px;border-bottom:2px solid #374151">\n          <button id="tfTabReq" style="flex:1;padding:8px;background:transparent;color:#3b82f6;border:none;border-bottom:2px solid #3b82f6;cursor:pointer;font-weight:600;font-size:14px">Requests</button>\n          <button id="tfTabHttp" style="flex:1;padding:8px;background:transparent;color:#9ca3af;border:none;border-bottom:2px solid transparent;cursor:pointer;font-weight:600;font-size:14px">HTTP</button>\n          <button id="tfTabJobs" style="flex:1;padding:8px;background:transparent;color:#9ca3af;border:none;border-bottom:2px solid transparent;cursor:pointer;font-weight:600;font-size:14px">Jobs</button>\n        </div>\n\n        \x3c!-- Requests Panel --\x3e\n        <div id="tfReqPanel">\n          <h3 style="margin:0 0 15px;color:#f9fafb;font-size:16px">Filter Requests</h3>\n\n          <div style="margin-bottom:12px">\n            <label style="display:block;margin-bottom:5px;font-weight:600;color:#9ca3af;font-size:13px">Method:</label>\n            <select id="tfMethod" style="width:100%;padding:8px;border:1px solid #374151;border-radius:4px;font-size:13px;background:#111827;color:#f9fafb">\n              ${r.map(t=>`<option value="${t}">${t}</option>`).join("")}\n            </select>\n          </div>\n\n          <div style="margin-bottom:12px">\n            <label style="display:block;margin-bottom:5px;font-weight:600;color:#9ca3af;font-size:13px">Status:</label>\n            <input type="text" id="tfStatus" placeholder="e.g. 200, 404" style="width:100%;padding:8px;border:1px solid #374151;border-radius:4px;font-size:13px;box-sizing:border-box;background:#111827;color:#f9fafb">\n          </div>\n\n          <div style="margin-bottom:12px">\n            <label style="display:block;margin-bottom:5px;font-weight:600;color:#9ca3af;font-size:13px">Duration (ms):</label>\n            <div style="display:flex;gap:8px">\n              <input type="text" id="tfDuration" placeholder="e.g. 1000" style="flex:1;padding:8px;border:1px solid #374151;border-radius:4px;font-size:13px;box-sizing:border-box;background:#111827;color:#f9fafb">\n              <button id="tfSlow" style="padding:8px 12px;background:#f59e0b;color:#fff;border:none;border-radius:4px;cursor:pointer;font-weight:600;font-size:13px">+1sec</button>\n            </div>\n          </div>\n\n          <div style="margin-bottom:15px">\n            <label style="display:block;margin-bottom:5px;font-weight:600;color:#9ca3af;font-size:13px">URL Contains:</label>\n            <input type="text" id="tfUrl" placeholder="e.g. /api/v1/users" style="width:100%;padding:8px;border:1px solid #374151;border-radius:4px;font-size:13px;box-sizing:border-box;background:#111827;color:#f9fafb">\n          </div>\n        </div>\n\n        \x3c!-- HTTP Panel --\x3e\n        <div id="tfHttpPanel" style="display:none">\n          <h3 style="margin:0 0 15px;color:#f9fafb;font-size:16px">Filter HTTP</h3>\n\n          <div style="margin-bottom:12px">\n            <label style="display:block;margin-bottom:5px;font-weight:600;color:#9ca3af;font-size:13px">Method:</label>\n            <select id="tfHttpMethod" style="width:100%;padding:8px;border:1px solid #374151;border-radius:4px;font-size:13px;background:#111827;color:#f9fafb">\n              ${r.map(t=>`<option value="${t}">${t}</option>`).join("")}\n            </select>\n          </div>\n\n          <div style="margin-bottom:12px">\n            <label style="display:block;margin-bottom:5px;font-weight:600;color:#9ca3af;font-size:13px">Status:</label>\n            <input type="text" id="tfHttpStatus" placeholder="e.g. 200, 404" style="width:100%;padding:8px;border:1px solid #374151;border-radius:4px;font-size:13px;box-sizing:border-box;background:#111827;color:#f9fafb">\n          </div>\n\n          <div style="margin-bottom:12px">\n            <label style="display:block;margin-bottom:5px;font-weight:600;color:#9ca3af;font-size:13px">Duration (ms):</label>\n            <div style="display:flex;gap:8px">\n              <input type="text" id="tfHttpDuration" placeholder="e.g. 1000" style="flex:1;padding:8px;border:1px solid #374151;border-radius:4px;font-size:13px;box-sizing:border-box;background:#111827;color:#f9fafb">\n              <button id="tfHttpSlow" style="padding:8px 12px;background:#f59e0b;color:#fff;border:none;border-radius:4px;cursor:pointer;font-weight:600;font-size:13px">+1sec</button>\n            </div>\n          </div>\n\n          <div style="margin-bottom:15px">\n            <label style="display:block;margin-bottom:5px;font-weight:600;color:#9ca3af;font-size:13px">URI Contains:</label>\n            <input type="text" id="tfHttpUri" placeholder="e.g. api/models" style="width:100%;padding:8px;border:1px solid #374151;border-radius:4px;font-size:13px;box-sizing:border-box;background:#111827;color:#f9fafb">\n          </div>\n        </div>\n\n        \x3c!-- Jobs Panel --\x3e\n        <div id="tfJobsPanel" style="display:none">\n          <h3 style="margin:0 0 15px;color:#f9fafb;font-size:16px">Filter Jobs</h3>\n\n          <div style="margin-bottom:12px">\n            <label style="display:block;margin-bottom:5px;font-weight:600;color:#9ca3af;font-size:13px">Job Name:</label>\n            <input type="text" id="tfJobName" placeholder="e.g. PipedriveUserSyncListener" style="width:100%;padding:8px;border:1px solid #374151;border-radius:4px;font-size:13px;box-sizing:border-box;background:#111827;color:#f9fafb">\n          </div>\n\n          <div style="margin-bottom:12px">\n            <label style="display:block;margin-bottom:5px;font-weight:600;color:#9ca3af;font-size:13px">Status:</label>\n            <input type="text" id="tfJobStatus" placeholder="e.g. pending, completed" style="width:100%;padding:8px;border:1px solid #374151;border-radius:4px;font-size:13px;box-sizing:border-box;background:#111827;color:#f9fafb">\n          </div>\n\n          <div style="margin-bottom:12px">\n            <label style="display:block;margin-bottom:5px;font-weight:600;color:#9ca3af;font-size:13px">Connection:</label>\n            <input type="text" id="tfConnection" placeholder="e.g. redis" style="width:100%;padding:8px;border:1px solid #374151;border-radius:4px;font-size:13px;box-sizing:border-box;background:#111827;color:#f9fafb">\n          </div>\n\n          <div style="margin-bottom:15px">\n            <label style="display:block;margin-bottom:5px;font-weight:600;color:#9ca3af;font-size:13px">Queue:</label>\n            <input type="text" id="tfQueue" placeholder="e.g. queues:default" style="width:100%;padding:8px;border:1px solid #374151;border-radius:4px;font-size:13px;box-sizing:border-box;background:#111827;color:#f9fafb">\n          </div>\n        </div>\n\n        \x3c!-- Action Buttons --\x3e\n        <div style="display:flex;gap:8px;margin-bottom:8px">\n          <button id="tfFilter" style="flex:1;padding:8px;background:#3b82f6;color:white;border:none;border-radius:4px;cursor:pointer;font-weight:600;font-size:13px">Apply</button>\n          <button id="tfReset" style="flex:1;padding:8px;background:#6b7280;color:white;border:none;border-radius:4px;cursor:pointer;font-weight:600;font-size:13px">Reset</button>\n        </div>\n\n        <button id="tfLoadMore" style="width:100%;padding:8px;background:#10b981;color:white;border:none;border-radius:4px;cursor:pointer;font-weight:600;font-size:13px;margin-bottom:8px">Load More</button>\n        <button id="tfClose" style="width:100%;padding:8px;background:#ef4444;color:white;border:none;border-radius:4px;cursor:pointer;font-weight:600;font-size:13px;margin-bottom:12px">Close</button>\n\n        \x3c!-- Version Link --\x3e\n        <div style="text-align:center;padding-top:8px;border-top:1px solid #374151">\n          <a href="https://github.com/Antons-S/laravel-telescope-filter" target="_blank" style="color:#9ca3af;font-size:11px;text-decoration:none">You can find latest version here</a>\n        </div>\n      </div>\n    `,l.body.appendChild(h),l.getElementById("tfDialog");const w=l.getElementById("tfTabReq"),k=l.getElementById("tfTabHttp"),z=l.getElementById("tfTabJobs"),C=l.getElementById("tfMethod"),I=l.getElementById("tfStatus"),S=l.getElementById("tfDuration"),B=l.getElementById("tfSlow"),E=l.getElementById("tfUrl"),q=l.getElementById("tfHttpMethod"),L=l.getElementById("tfHttpStatus"),A=l.getElementById("tfHttpDuration"),T=l.getElementById("tfHttpSlow"),H=l.getElementById("tfHttpUri"),P=l.getElementById("tfJobName"),J=l.getElementById("tfJobStatus"),R=l.getElementById("tfConnection"),D=l.getElementById("tfQueue"),M=l.getElementById("tfFilter"),U=l.getElementById("tfReset"),$=l.getElementById("tfLoadMore"),j=l.getElementById("tfClose");let F=location.pathname;setInterval(()=>{if(location.pathname!==F){F=location.pathname;const o=t();o!==a&&(e(o),i&&(clearInterval(i),i=null))}},500),e(t()),w.onclick=()=>e("requests"),k.onclick=()=>e("http"),z.onclick=()=>e("jobs"),B.onclick=()=>{const t=parseInt(S.value)||0;S.value=t+1e3},T.onclick=()=>{const t=parseInt(A.value)||0;A.value=t+1e3},M.onclick=()=>{"requests"===a?(d=C.value,s=I.value,p=S.value,b=E.value):"http"===a?(c=q.value,f=L.value,x=A.value,u=H.value):(y=P.value,g=J.value,m=R.value,v=D.value),i&&clearInterval(i),i=setInterval(o,500),o()},U.onclick=()=>{i&&clearInterval(i),i=null,"requests"===a?(C.value="ALL",I.value="",S.value="",E.value="",d="",s="",p="",b=""):"http"===a?(q.value="ALL",L.value="",A.value="",H.value="",c="",f="",x="",u=""):(P.value="",J.value="",R.value="",D.value="",y="",g="",m="",v=""),o()},$.onclick=n,j.onclick=()=>{i&&clearInterval(i),h.remove()},[E,I,S,H,L,A,P,J,R,D].forEach(t=>{t.onkeypress=t=>{"Enter"===t.key&&M.click()}})}()}();